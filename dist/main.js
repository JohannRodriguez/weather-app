(()=>{const e=e=>e.charAt(0).toUpperCase()+e.slice(1),t=e=>null===e?"":e;document.getElementById("submit-form").addEventListener("click",(o=>{o.preventDefault();const a=e(document.getElementById("city-name").value),c=document.getElementById("state-name").value.toLowerCase(),s=document.getElementById("temp-types").value,r=((e,t)=>{const n={root:"http://api.openweathermap.org/data/2.5/weather?q=",city:e,state:t,key:"&APPID=a462784b129e8666735d11a68b50dc6c"},{root:o,city:a,state:c,key:s}=n;return 0===a.length?`${o}${c}${s}`:0===c.length?`${o}${a}${s}`:`${o}${a},${c}${s}`})(t(a),t(c));n(r,a,c,s)}));const n=async(e,t,n,c)=>{const s=await(await fetch(e,{mode:"cors"}).catch(o)).json();a(s,t,n,c)},o=e=>{new Response(JSON.stringify({cod:404,message:"City not found"}))},a=(t,n,o,a)=>{if(200===t.cod){const e=[newWeather(t,n,o,a),n,o,a];localStorage.setItem("request",JSON.stringify(e)),location.reload()}else document.getElementById("error").textContent=e(t.message)}})();